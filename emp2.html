<html lang="en">
<head>

<meta charset="UTF-8">

<!-- If IE use the latest rendering engine -->
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Set the page to the width of the device and set the zoon level -->
<meta name="viewport" content="width = device-width, initial-scale = 1">
<title>HR Dashboard|Employee</title>
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twbs-pagination/1.3.1/jquery.twbsPagination.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/1000hz-bootstrap-validator/0.11.5/validator.min.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
  <link href="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css" rel="stylesheet">
    <script type="text/javascript">
         var url = "http://localhost:8000/";
        </script>
<script src="/emp_ajax.js"></script>
<style>



#header{
  display: block;
  background-color: #800000;
  margin-top: -50px;
  margin-left: -13px;
  color: #fff;

}

  @import url(http://fonts.googleapis.com/css?family=Lato);

.container
{
    width:100%;
    overflow:hidden;
    display:inline-block;
}
.side-bar
{
    /*background:#74AFAD;*/
    background: #800000;
    position:absolute;
    height:100%;
    width:200px;
    color:#fff;
    margin-top: -15px;
    transition: margin-left 0.5s;
}

.side-bar ul
{
    list-style:none;
    padding:0px;
    
}

.side-bar ul li.menu-head
{
    font-family: 'Lato', sans-serif;
    padding:20px;
}


.side-bar ul li.menu-head a
{
    color:#fff;
    text-decoration:none;
    height:50px;
}


.side-bar ul .menu-head  a
{
    color:#fff;
    text-decoration:none;
    height:50px;
}

.side-bar ul .menu li  a 
{
    color:#fff;
    text-decoration:none;
    display:inline-table;
    width:100%;
    padding-left:20px;
    padding-right:20px;
    padding-top:10px;
    padding-bottom:10px;
}

.side-bar ul .menu li  a:hover
{
    border-left:3px solid #ECECEA;    
    padding-left:17px;
}

.side-bar ul .menu li  a.active
{
    padding-left:17px;
   /* background:#D9853B;*/
   background: #ffd700;
    border-left:3px solid #ECECEA;
}

.side-bar ul .menu li  a.active:before {
   content:"";
   position: absolute;
   width: 0;
   height: 0;
   border-top: 20px solid transparent;
    border-bottom: 20px solid transparent;
  
  border-left: 7px solid #FFD700;
    margin-top: -10px;
    margin-left: 180px;
}


.content
{
    width: 100%;
    padding-left: 200px;
    transition: padding-left 0.5s;
}

.active > .side-bar
{
    margin-left:-150px;   
    transition: margin-left 0.5s;
}

.active > .content
{
    padding-left:50px;
    transition: padding-left 0.5s;

}

.form-group {
  position: relative;
  margin-bottom: 1.5rem;
}

.form-control-placeholder {
  position: absolute;
  top: 0;
  padding: 7px 0 0 13px;
  transition: all 200ms;
  opacity: 0.5;
}

.form-control:focus + .form-control-placeholder,
.form-control:valid + .form-control-placeholder {
  font-size: 75%;
  transform: translate3d(0, -100%, 0);
  opacity: 1;
}



</style>

</head>
<body >


<!-- <nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="#">WebSiteName</a>
    </div>
    <ul class="nav navbar-nav">
      <li class="active"><a href="#">Home</a></li>
    </ul>
    </div>
    </nav> -->
<div class="container">

  <div class="row">
    <div class="wrapper">
          <div class="side-bar">
                <ul>
                    <li class="menu-head">
                        HR Dashboard <a href="#" class="push_menu"><span class="glyphicon glyphicon-align-justify pull-right"></span></a>
                    </li><br>

                    <div class="menu">
                    <!--  <p style="font-family: Verdana,Arial; font-size: 18px; text-align: center;"> <?php  session_start(); echo $_SESSION['fname'],' ', $_SESSION['lname'];?></p>
                      
                        <hr class="style1">  -->
                        <li>

                            <a href="home.php">Home <span class="glyphicon glyphicon-home pull-right"></span></a>
                        </li>
                        <li>
                            <a href="dashboard.php">Dashboard <span class="glyphicon glyphicon-dashboard pull-right"></span></a>
                        </li>
                        <li>
                            <a href="employees.php" class="active">Employees <span class="glyphicon glyphicon-user pull-right"></span></a>
                        </li>
                        <li>
                            <a href="infractions.php">Infractions <span class="glyphicon glyphicon-list-alt pull-right"></span></a>
                        </li>
                        <li>
                            <a href="leaves.php">Leaves <span class="glyphicon glyphicon-calendar pull-right"></span></a>
                        </li>
                        <li>
                            <a href="reminders.php">Reminders <span class="glyphicon glyphicon-calendar pull-right"></span></a>
                        </li>
                        <li>
                            <a href="#" data-toggle="modal" data-target="#modalConfirmDelete">Logout <span class="glyphicon glyphicon-off pull-right"></span></a>
                        </li>

                    </div>
                    
                </ul>
          </div>    

            </div>
<div class="modal fade" id="modalConfirmDelete" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-sm modal-notify modal-danger" role="document">
            <!--Content-->
            <div class="modal-content text-center">
                <!--Header-->
                <div class="modal-header d-flex justify-content-center">
                    <p class="heading">Are you sure you want to log out?</p>
                </div>
                    <a href="logout.php" class="btn  btn-outline-secondary-modal">Yes</a>
                    <a type="button" class="btn  btn-primary-modal waves-effect" data-dismiss="modal">No</a>
            </div>
            <!--/.Content-->
        </div>
    </div>


<script type="text/javascript">
    $(document).ready(function(){
    $(".push_menu").click(function(){
         $(".wrapper").toggleClass("active");
    });
});
</script>


    </div> <!-- end of row -->
    </div> <!-- end of container -->

<div class="content">
<div id="header">
    <p style="font-size: 18px; padding:8px; margin-top: 50px; width:1500px; margin-left: 20px; "> EMPLOYEE INFORMATION</p>
    </div>

<table border= 0 width=97% style="margin-left: 50px; margin-top: 60px"> 
<tr>
<td width="80%">
<!-- <select style= " height: 30px">
  <option value="search">Search by</option>
  <option value="id">ID Number</option>
  <option value="fname">Family Name</option>
</select> -->
<div class="input-group-btn">
<script type="text/javascript">
 /* var hidden = false;
    function action() {
        hidden = !hidden;
        if(hidden) {
            document.getElementById('gone').style.visibility = 'hidden';
        }
      }
*/      $(function () {
      $("select").change(function () {
          $("select option:selected").each(function () {
              $(document.getElementById('gone')).html( $(this).text() );
          });
      });
  });
$(function() {    // Makes sure the code contained doesn't run until
                  //     all the DOM elements have loade
    $('#multiple').change(function(){
        $('.search').hide();
        $('#' + $(this).val()).show();
    });

});
</script>
            <button type="button" id="gone" class="btn btn-default dropdown-toggle" data-toggle="dropdown" style="margin-right:0px"  >Search by <span class="caret"></span>

            </button>
            <ul class="dropdown-menu" role="menu">
                <select id="multiple" multiple="multiple" onClick="action();">
                    <option value="id" style="padding-right: 100px;">ID no.</option>
                    <option value="lastname">Name</option>
                </select>
            </ul>
        </div></div>
        <div id="id" class="search" style="display: none;"> 
      <form method="POST" action="">
         <!--    <div class="input-group" >
            <input name="id" type="text" class="form-control" placeholder="Search for" autocomplete="off" style="margin-left:63px; margin-top:-33px""\>
            <span class="input-group-btn">
            <input type="submit" name="search" class="btn btn-default" value="Search" style="margin-left:63px; margin-top: -33px"></input>
             </span>
            </div> -->
            <!-- <div class="input-group">
    <input type="text" class="form-control"/>
    <span name="search" class="input-group-addon">
        <i class="fa fa-search"></i>
         <span class="glyphicon glyphicon-search"></span>
    </span> -->

<div class="form-group has-feedback">
    <input type="text" class="form-control" id="inputSuccess2"/>
    <span class="glyphicon glyphicon-search form-control-feedback"></span>
</div>
</div>
            </form>
     
     </div>

      <div id="lastname" class="search input-group" style="display: none; margin-bottom: -15px ;">
      <form method="POST" action="">
      <div class="input-group" >
      <input id='name' name='id' list='fname' class="form-control" autocomplete="off" style="margin-left:62px; margin-top: -34px" >
            <datalist id='fname'>
            <?php
                include 'con_db.php';

                $sql= "select * from student "; // Query to collect records
                foreach (mysqli_query($con,$sql) as $row) {
                $name1 = $row['fullname'];
                echo "<option value='$name1'/>";

            }
            ?></datalist>
            <span class="input-group-btn">
            <input type="submit" name="search1" class="btn btn-default" value="Search" style="margin-top: -34px"></input>
            </span>
            </div>
     </form>
     </div>
        </td>
<td>
<button style="margin-left:20px" class="btn btn-primary" data-toggle="modal" data-target="#addEmployee"  >Add Employee</button>
</td></tr>
</table>
<br><br>
</div>
<div class="content">

<table style="margin-left: 50px; width: 90%" class="table table-bordered table-hover">
  <thead>
    <tr>
      <th width="6%" style="text-align: center;">ID No</th>
      <th width="25%" style="text-align: center;">Name</th>
      <th width="5%" style="text-align: center;">Gender</th>
      <th width="30%" style="text-align: center;">Department</th>
      <th width="20%" style="text-align: center;">Email</th>
      <th width="20%" style="text-align: center;">Option</th>

    </tr>
  </thead>
 <?php
  include 'hrd_db.php';
  $result=mysqli_query($con,"select * from employee"); 

  ?>

  <?php while($row=mysqli_fetch_array($result)):?>

  <tr>  
    <td style="text-align: center;"><?php echo $row['idno'];?></td>
    <td style="text-align: center;"><?php echo $row['lname'],',',$row['fname'];?></td>
    <td style="text-align: center;"><?php echo $row['gender'];?></td>
    <td style="text-align: center;"><?php echo $row['department'];?></td>
    <td style="text-align: center;"><?php echo $row['email'];?></td>
    <td style="text-align: center"><button  class="btn btn-primary" data-toggle="modal" data-target="#addEmployee" >Edit</button>
    <button  class="btn btn-primary" data-toggle="modal" data-target="#addEmployee" >Delete</button></td> 
  </tr>
  <?php endwhile;?> 
</table></div>




<!--Modal-->

<div class="modal fade" id="addEmployee" tableindex="-1" role="dialog" aria-labelledby="addLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" ><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="addLabel">Add Employee</h4>
      </div>
      
        <div class="modal-body">
        <form data-toggle="validator" method="POST" action="insert_employee.php">
          <div class="form-group">
            <label for="sn">ID Number</label>
            <input type="text" class="form-control" id="id" name="IDNO">
          
          </div>
          <div class="form-group">
            <label for="st">Last Name</label>
            <input type="text" class="form-control" id="ln" name="LNAME">

          </div>


          <div class="form-group">
            <label for="st">First Name</label>
            <input type="text" class="form-control" id="fn" name="FNAME">

          </div>
          <div class="form-group">
            <label for="st">Gender</label>
            <input type="text" class="form-control" id="gender" name="GENDER">

          </div>
          <div class="form-group">
            <label for="st">Department</label>
            <input type="text" class="form-control" id="dept" name="DEPARTMENT">

          </div>
          <div class="form-group">
            <label for="st">Email</label>
            <input type="text" class="form-control" id="email" name="EMAIL">

          </div>
         
        </div>
        <div class="modal-footer">
          <button type="submit" onclick="saveData()" class="btn btn-primary crud-submit btn-success">Save</button>
        </div>
      </form>
    </div>
  </div>
</div>
  
 
 
<table border="0" width="50%" style="text-align:right; margin-left: 100px; margin-top:60px">

<br>
<br>


<script>
  function saveData()
  {
    var idno = $('#id').val();
    var lname = $('#ln').val();
    var fname = $('#fn').val();
    var gender = $('#gender').val();
    var dept = $('#dept').val();
    var email = $('#email').val();

    $.ajax({
      type:"POST",
      url:"insert_employee.php?p=add",
      data:"id="+idno+"&ln="+lname+"&fn="+fname+"&gender="+gender+"&dept="+department+"&email="+email,
      success: function  (msg) {
        alert('Success insert employee');
      }
    });

  }
  </script>


</table>
</body>
</html>
